{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/address.service\";\nimport * as i2 from \"../../services/customer.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction AddressComponent_strong_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 11);\n    i0.ɵɵtext(1, \" This field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddressComponent_strong_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 11);\n    i0.ɵɵtext(1, \" This field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddressComponent_strong_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 11);\n    i0.ɵɵtext(1, \" This field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddressComponent_strong_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 11);\n    i0.ɵɵtext(1, \" This field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddressComponent_strong_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 11);\n    i0.ɵɵtext(1, \" This field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AddressComponent = /*#__PURE__*/(() => {\n  class AddressComponent {\n    constructor(addressService, customerService) {\n      this.addressService = addressService;\n      this.customerService = customerService;\n      this.addresses = [];\n      this.form = new FormGroup({\n        street: new FormControl('', [Validators.required]),\n        city: new FormControl('', [Validators.required]),\n        state: new FormControl('', [Validators.required]),\n        type: new FormControl(''),\n        zipCode: new FormControl('', [Validators.required])\n      });\n    }\n\n    ngOnInit() {\n      this.addressService.addresses$.subscribe({\n        next: addresses => {\n          this.addresses = addresses;\n        }\n      });\n    }\n\n    save() {\n      if (this.form.valid) {\n        const address = {\n          street: `${this.form.get('street')?.value}`,\n          city: `${this.form.get('city')?.value}`,\n          state: `${this.form.get('state')?.value}`,\n          zipCode: `${this.form.get('zipCode')?.value}`,\n          type: `${this.form.get('type')?.value}`,\n          customer: {\n            customerId: `${localStorage.getItem('MKPG')}`\n          }\n        };\n        console.log(address);\n        this.addressService.createAddress(address).subscribe({\n          next: data => this.addressService.addAddresses(data),\n          error: err => console.log(err)\n        });\n      } else {\n        this.form.markAllAsTouched();\n      }\n    }\n\n  }\n\n  AddressComponent.ɵfac = function AddressComponent_Factory(t) {\n    return new (t || AddressComponent)(i0.ɵɵdirectiveInject(i1.AddressService), i0.ɵɵdirectiveInject(i2.CustomerService));\n  };\n\n  AddressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddressComponent,\n    selectors: [[\"app-address\"]],\n    inputs: {\n      addresses: \"addresses\"\n    },\n    decls: 34,\n    vars: 6,\n    consts: [[1, \"form-container\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"placeholder\", \"Street\", \"formControlName\", \"street\", 1, \"input\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"City\", \"formControlName\", \"city\", 1, \"input\"], [\"type\", \"text\", \"placeholder\", \"State\", \"formControlName\", \"state\", 1, \"input\"], [\"type\", \"text\", \"placeholder\", \"Zip Code\", \"formControlName\", \"zipCode\", 1, \"input\"], [\"formControlName\", \"type\"], [\"value\", \"primary\"], [\"value\", \"shipping\"], [\"type\", \"submit\", 1, \"btn\"], [1, \"error\"]],\n    template: function AddressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddressComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.save();\n        });\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\");\n        i0.ɵɵtext(4, \"Street\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"input\", 2);\n        i0.ɵɵtemplate(6, AddressComponent_strong_6_Template, 2, 0, \"strong\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\")(8, \"label\");\n        i0.ɵɵtext(9, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 4);\n        i0.ɵɵtemplate(11, AddressComponent_strong_11_Template, 2, 0, \"strong\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\")(13, \"label\");\n        i0.ɵɵtext(14, \"State\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 5);\n        i0.ɵɵtemplate(16, AddressComponent_strong_16_Template, 2, 0, \"strong\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\")(18, \"label\");\n        i0.ɵɵtext(19, \"Zip Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 6);\n        i0.ɵɵtemplate(21, AddressComponent_strong_21_Template, 2, 0, \"strong\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\")(23, \"label\");\n        i0.ɵɵtext(24, \"Type:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 7);\n        i0.ɵɵelement(26, \"option\");\n        i0.ɵɵelementStart(27, \"option\", 8);\n        i0.ɵɵtext(28, \"Primary Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"option\", 9);\n        i0.ɵɵtext(30, \"Shipping Address\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(31, AddressComponent_strong_31_Template, 2, 0, \"strong\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"button\", 10);\n        i0.ɵɵtext(33, \"Add Address\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_4_0;\n        let tmp_5_0;\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.form.get(\"street\")) == null ? null : tmp_1_0.touched) && ((tmp_1_0 = ctx.form.get(\"street\")) == null ? null : tmp_1_0.hasError(\"required\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"city\")) == null ? null : tmp_2_0.touched) && ((tmp_2_0 = ctx.form.get(\"city\")) == null ? null : tmp_2_0.hasError(\"required\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.form.get(\"state\")) == null ? null : tmp_3_0.touched) && ((tmp_3_0 = ctx.form.get(\"state\")) == null ? null : tmp_3_0.hasError(\"required\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"zipCode\")) == null ? null : tmp_4_0.touched) && ((tmp_4_0 = ctx.form.get(\"zipCode\")) == null ? null : tmp_4_0.hasError(\"required\")));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.form.get(\"zipCode\")) == null ? null : tmp_5_0.touched) && ((tmp_5_0 = ctx.form.get(\"zipCode\")) == null ? null : tmp_5_0.hasError(\"required\")));\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName]\n  });\n  return AddressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}